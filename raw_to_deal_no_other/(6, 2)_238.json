{"relation": [["Service", "02net", "o2hb-diskid", "o2cb", "ocfs2", "ocfs2_dlm and ocfs2_dlmfs"], ["Description", "The o2net process creates TCP/IP intra-cluster node communication channels on port 7777 and sends regular keep-alive packages to each node in the cluster to validate if the nodes are alive. The intra-cluster node communication uses the network with the Cluster Heartbeat role. By default, this is the Server Management network. You can however create a separate network for this function. See Section 5.2, \u201cNetwork Usage\u201d for information about the Cluster Heartbeat role. Make sure the firewall on each Oracle VM Server in the cluster allows network traffic on the heartbeat network. By default, the firewall is disabled on Oracle VM Servers after installation.", "The server pool cluster also employs a disk heartbeat check. The o2hb process is responsible for the global disk heartbeat component of cluster. The heartbeat feature uses a file in the hidden region of the server pool file system. Each pool member writes to its own block of this region every two seconds, indicating it is alive. It also reads the region to maintain a map of live nodes. If a server pool member's block is no longer updated, the Oracle VM Server is considered dead. If an Oracle VM Server dies, the Oracle VM Server is fenced. Fencing forcefully removes dead members from the server pool to make sure active pool members are not obstructed from accessing the fenced Oracle VM Server's resources.", "The o2cb service is central to cluster operations. When an Oracle VM Server boots, the o2cb service starts automatically. This service must be up for the mount of shared repositories to succeed.", "The ocfs2 service is responsible for the file system operations. This service also starts automatically.", "The DLM modules (ocfs2_dlm, ocfs2_dlmfs) and processes (user_dlm, dlm_thread, dlm_wq, dlm_reco_thread, and so on) are part of the Distributed Lock Manager. OCFS2 uses a DLM to track and manage locks on resources across the cluster. It is called distributed because each Oracle VM Server in the cluster only maintains lock information for the resources it is interested in. If an Oracle VM Server dies while holding locks for resources in the cluster, for example, a lock on a virtual machine, the remaining Oracle VM Servers in the server pool gather information to reconstruct the lock state maintained by the dead Oracle VM Server."]], "pageTitle": "6.2.\u00a0Server Pool Clusters", "title": "", "url": "http://docs.oracle.com/cd/E27300_01/E27309/html/vmusg-svrpool-cluster.html", "hasHeader": true, "headerPosition": "FIRST_ROW", "tableType": "RELATION", "tableNum": 1, "s3Link": "common-crawl/crawl-data/CC-MAIN-2015-32/segments/1438042989043.35/warc/CC-MAIN-20150728002309-00015-ip-10-236-191-2.ec2.internal.warc.gz", "recordEndOffset": 79055863, "recordOffset": 79047661, "tableOrientation": "HORIZONTAL", "TableContextTimeStampAfterTable": "{18099=Copyright \u00a9 2011, 2012, 2013, Oracle and/or its affiliates. All rights reserved. Legal Notices}", "lastModified": "Tue, 29 Jan 2013 05:35:02 GMT", "textBeforeTable": "Table\u00a06.1.\u00a0Cluster services Starting the cluster activates several services and processes on each of the Oracle VM Servers in the cluster. The most important processes and services are discussed in Table\u00a06.1, \u201cCluster services \u201d. On each Oracle VM Server in the cluster, the cluster configuration file is located at /etc/ocfs2/cluster.conf, and the cluster time-out file is located at /etc/sysconfig/o2cb. Starts the cluster. Pushes the configuration files to all Oracle VM Servers in the server pool. Creates the cluster configuration file and the cluster time-out file. Configures the Virtual IP address selected during pool creation as a virtual network interface on top of the management interface for the Master Oracle VM Server. Selects a Master Oracle VM Server. The next step is to add Oracle VM Servers to the newly created server pool. When Oracle VM Servers are added, Oracle VM: The virtual IP address is used by Oracle VM Manager to communicate with the server that is designated as the Master in the server pool. If the master changes, the virtual IP address is transferred to the new Master, insuring that Oracle VM Manager continues to communicate with the Master. During server pool creation, the server pool", "textAfterTable": "Warning Do not manually modify the cluster configuration files, or start and stop the cluster services. Oracle VM Manager automatically starts the cluster on Oracle VM Servers that belong to a server pool. Manually configuring or operating the cluster may lead to cluster failure. When you create a repository on a shared disk, an OCFS2 file system is created on the shared disk. This occurs for local repositories as well. The resources in the repositories, for example, virtual machine configuration files, virtual disks, ISO files, templates and assemblies, can then be shared safely across the server pool. When a server pool member stops or dies, the resources owned by the departing server are recovered, and the change in status of the server pool members is propagated to all the remaining Oracle VM Servers in the server pool. Figure\u00a06.1, \u201cServer Pool clustering with OCFS2 features\u201d illustrates server pool clustering, the disk and network heartbeats, and the use of the DLM feature to lock resources across the cluster. Figure\u00a06.1.\u00a0Server Pool clustering with OCFS2 features", "hasKeyColumn": true, "keyColumnIndex": 0, "headerRowIndex": 0}