{"relation": [["", "109", "110", "111", "112", "", "113", "114", "115", "", "116", "117", "118"], ["", "109", "110", "111", "", "112", "113", "114", "", "115", "116", "117", "118"], ["", "{", "ASSERT_ARGS(Parrot_pmc_destroy)", "", "if (PObj_ active_destroy_TEST(pmc)) {", "if (PObj_ custom_destroy_TEST(pmc)) {", "VTABLE_destroy(interp, pmc);", "/* Prevent repeated calls. */", "PObj_ active_destroy_CLEAR(pmc);", "PObj_ custom_destroy_CLEAR(pmc);", "}", "", "PObj_custom_mark_CLEAR(pmc);"]], "pageTitle": "Attachment \u2013 Parrot", "title": "", "url": "http://trac.parrot.org/parrot/attachment/ticket/968/active_to_custom.patch", "hasHeader": true, "headerPosition": "MIXED", "tableType": "RELATION", "tableNum": 4, "s3Link": "common-crawl/crawl-data/CC-MAIN-2015-32/segments/1438042990177.43/warc/CC-MAIN-20150728002310-00004-ip-10-236-191-2.ec2.internal.warc.gz", "recordEndOffset": 244768714, "recordOffset": 244756772, "tableOrientation": "HORIZONTAL", "textBeforeTable": "src/oo.c replace \"active_destroy\" with \"custom_destroy\" -- updated to leave and deprecate original macros File active_to_custom.patch, 20.7 KB (added by jrtayloriv, 6 years ago) Ticket #968: active_to_custom.patch Back to Ticket #968 Context Navigation Search View Tickets Roadmap Timeline Wiki Register About Trac Help/Guide Preferences Login Search:", "textAfterTable": "\u00a0 509 509 \u00a0 \u00a0 \u00a0 \u00a0 /* don't let the clone's destruction destroy the destination's data */\u00a0 510 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PObj_ active_destroy_CLEAR(clone);\u00a0 \u00a0 510 \u00a0 \u00a0 \u00a0 \u00a0 PObj_ custom_destroy_CLEAR(clone);\u00a0 511 511 \u00a0 \u00a0 \u00a0 \u00a0 PMC_data(clone) = NULL;\u00a0 512 512 \u00a0 \u00a0 \u00a0 \u00a0 PMC_metadata(clone) = NULL;\u00a0 513 513 \u00a0 \u00a0 \u00a0 \u00a0 PMC_next_for_GC(clone) = NULL;\u00a0 src/gc/generational_ms.c \u00a0 606 606 =item C<static void gc_gms_chain_objects(PARROT_INTERP, Small_Object_Pool *pool,\u00a0 607 607 Small_Object_Arena *new_arena, size_t real_size)>\u00a0 608 608 \u00a0 609 \u00a0 TODO: interfere active_destroy and put these items into a\u00a0 \u00a0 609 TODO: interfere custom_destroy and put these items into a\u00a0 610 610 separate white area, so that a sweep has just to run through these\u00a0 611 611 objects\u00a0 612 612 \u00a0 \u2026 \u2026 \u00a0 1691 1691 \u00a0 \u00a0 \u00a0 \u00a0 PMC * const obj = (PMC*)GMSH_to_PObj(h);\u00a0", "hasKeyColumn": false, "keyColumnIndex": -1, "headerRowIndex": 0}