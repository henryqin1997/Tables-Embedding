{"relation": [["USE_STORED_OUTLINES Session Parameter", "FALSE", "FALSE", "TRUE", "category", "TRUE", "category"], ["OPTIMIZER_USE_SQL_PLAN_BASELINES Initialization Parameter", "FALSE", "TRUE", "FALSE", "FALSE", "TRUE", "TRUE"], ["Database Behavior", "When choosing a plan for a SQL statement, the database does not use stored outlines or plan baselines.", "When choosing a plan for a SQL statement, the database uses only SQL plan baselines.", "When choosing a plan for a SQL statement, the database uses stored outlines with the category name DEFAULT.", "When choosing a plan for a SQL statement, the database uses stored outlines with the specified category name. If a stored outline with the specified category name does not exist, then the database uses a stored outline in the DEFAULT category if it exists.", "When choosing a plan for a SQL statement, stored outlines take priority over plan baselines. If a stored outline with the category name DEFAULT exists for the statement and is applicable, then the database applies the stored outline. Otherwise, the database uses SQL plan baselines.", "When choosing a plan for a SQL statement, stored outlines take priority over plan baselines. If a stored outline with the specified category name or the DEFAULT category exists for the statement and is applicable, then the database applies the stored outline. Otherwise, the database uses SQL plan baselines. However, if the stored outline has the property MIGRATED, then the database does not use the outline and uses the corresponding SQL plan baseline instead (if it exists)."]], "pageTitle": "Using SQL Plan Management - 11g Release 2 (11.2)", "title": "", "url": "http://docs.oracle.com/cd/E25054_01/server.1111/e16638/optplanmgmt.htm", "hasHeader": true, "headerPosition": "FIRST_ROW", "tableType": "RELATION", "tableNum": 9, "s3Link": "common-crawl/crawl-data/CC-MAIN-2015-32/segments/1438042986451.45/warc/CC-MAIN-20150728002306-00057-ip-10-236-191-2.ec2.internal.warc.gz", "recordEndOffset": 68312279, "recordOffset": 68289182, "tableOrientation": "HORIZONTAL", "lastModified": "Thu, 20 Sep 2012 18:06:35 GMT", "textBeforeTable": "Table 15-6 Use of Stored Outlines and SQL Plan Baselines The USE_STORED_OUTLINES session parameter (it is not an initialization parameter) and OPTIMIZER_USE_SQL_PLAN_BASELINES initialization parameter determine how the database uses stored outlines and plan baselines. Table 15-6 explains how these parameters interact. Oracle Database automatically creates and stores an outline for each query submitted during the session. The automatic recognition of repeatable SQL statements and the generation of SQL plan baselines for these statements is also enabled. When executing a SQL statement, the database creates stored outlines with the specified category name and SQL plan baselines with the category name DEFAULT. TRUE category Oracle Database automatically creates and stores an outline for each query submitted during the session. The automatic recognition of repeatable SQL statements and the generation of SQL plan baselines for these statements is also enabled. When executing a SQL statement, the database creates both stored outlines and SQL plan baselines with the category name DEFAULT. TRUE TRUE When executing a SQL statement, the database creates only new stored outlines (if they do not exist) with the specified category name for the statement.", "textAfterTable": "To place the database in the proper state after the migration:\u00a0 Check that SQL plan baselines have been created as the result of migration. Ensure that the plans are enabled and accepted. For example, enter the following query (partial sample output included): SELECT SQL_HANDLE, PLAN_NAME, ORIGIN, ENABLED, ACCEPTED, FIXED, MODULE FROM DBA_SQL_PLAN_BASELINES; SQL_HANDLE PLAN_NAME ORIGIN ENA ACC FIX MODULE ------------------------------ ---------- -------------- --- --- --- ------ SYS_SQL_f44779f7089c8fab STMT01 STORED-OUTLINE YES YES NO DEFAULT . . . Optionally, change the attributes of the SQL plan baselines. For example, the following statement changes the status of the baseline for the specified SQL statement to fixed: DECLARE v_cnt PLS_INTEGER; BEGIN v_cnt := DBMS_SPM.ALTER_SQL_PLAN_BASELINE( sql_handle=>'SYS_SQL_f44779f7089c8fab', attribute_name=>'FIXED', attribute_value=>'NO'); DBMS_OUTPUT.PUT_LINE('Plans altered: ' || v_cnt); END; / Check the status of the original stored outlines. For example, enter the following query (partial sample output included): SELECT NAME, OWNER, CATEGORY, USED, MIGRATED FROM DBA_OUTLINES ORDER BY NAME; NAME OWNER CATEGORY USED MIGRATED ---------- ---------- ---------- ------ ------------ STMT01 SYS DEFAULT USED MIGRATED STMT02 SYS DEFAULT USED MIGRATED . . . Drop all stored outlines that have been migrated to SQL plan baselines. For example, the following statements drops all stored outlines with status MIGRATED in DBA_OUTLINES: DECLARE v_cnt PLS_INTEGER; BEGIN v_cnt := DBMS_SPM.DROP_MIGRATED_STORED_OUTLINE(); DBMS_OUTPUT.PUT_LINE('Migrated stored outlines dropped: ' || v_cnt); END; / Set initialization parameters so that: When executing a", "hasKeyColumn": true, "keyColumnIndex": 0, "headerRowIndex": 0}