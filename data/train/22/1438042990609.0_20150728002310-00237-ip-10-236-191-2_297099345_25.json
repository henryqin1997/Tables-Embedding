{
    "relation": [
        [
            "Bit",
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7"
        ],
        [
            "Meaning when bit=1",
            "Output unpowered due to shutdown by low battery",
            "Unable to transfer to battery due to overload",
            "Main relay malfunction - UPS turned off",
            "In sleep mode from @ command (maybe others)",
            "In shutdown mode from S command",
            "Battery charger failure",
            "Bypass relay malfunction",
            "Normal operating temperature exceeded"
        ]
    ],
    "pageTitle": "APCUPSD User Manual",
    "title": "",
    "url": "http://www.apcupsd.com/manual/index.html",
    "hasHeader": true,
    "headerPosition": "FIRST_ROW",
    "tableType": "RELATION",
    "tableNum": 25,
    "s3Link": "common-crawl/crawl-data/CC-MAIN-2015-32/segments/1438042990609.0/warc/CC-MAIN-20150728002310-00237-ip-10-236-191-2.ec2.internal.warc.gz",
    "recordEndOffset": 297222659,
    "recordOffset": 297099345,
    "tableOrientation": "HORIZONTAL",
    "TableContextTimeStampAfterTable": "{167820=WARNING: Only the values for the Smart-UPS 700 model SU700 and Smart-UPS 1400 model SU1400, both with international firmware (and therefore international voltage), have been verified. YOU, gentle reader, USE THIS INFORMATION AT YOUR OWN RISK in the full knowledge that you may render your UPS inoperable and perhaps irreparable, and you will have no-one to blame but yourself. Caveat Utilitor!, 102645=Not all APC UPSes support MODBUS. New 2013 year Smart-UPS models are likely to support it out-of-the-box and firmware updates are available for some older models. APC/Schneider tech support is your best point of contact for determining if a certain model will support MODBUS. That said, APC knowledge base article FA164737 indicates MODBUS support is available for the majority of the SMC, SMT, and SMX model lines., 230933=Please read the Testing Apcupsd section of this document for general instructions on testing the Win32 version. However, on Win32 systems, there is no Unix system log file, so if something goes wrong, look in the file c:\\apcupsd\\etc\\apcupsd\\apcupsd.events where apcupsd normally logs its events, and you will generally find more detailed information on why the program is not working. The most common cause of problems is either improper configuration of the cable type, or an incorrect address for the serial port. Additionally, check the application event log, if you're running a platform that supports it such as Windows 2000 or XP., 110650=A very disturbing tendance is for some of the newer (Mar 2004) RS and ES UPSes to have no Voltage information. This is an annoying bug, but not serious. On the other hand, some of those UPSes now have no battery charge information BCHARGE. If BCHARGE is zero in your listing and you are running a Smart or a USB UPS, then you will have to set the BATTERYLEVEL directive in your apcupsd.conf file to -1., 243879=At Kern's site, running Red Hat 7.1 with kernel 2.4.9-12, he simply changed his /etc/apcupsd/apcupsd.conf configuration line to be:, 349544=Despite the lack of official information from APC, this table has been constructed. It's standard RS-232 serial communications at 2400 bps/8N1. Don't rush the UPS while transmitting or it may stop talking to you. This isn't a problem with the normal single character queries, but it really does matter for multi-char things like \"@000\". Sprinkle a few calls to usleep() in your code and everything will work a lot better., 226878=On Windows NT/2000/XP, you may alternatively go to the Control Panel, open the Services folder, select Apcupsd UPS Server, and then click on the Start button as shown below:, 250102=If you have a UPS that uses apcsmart protocol, you can manually test the serial communications with the UPS by starting a serial port communications program (such as minicom, tip, or cu) with the settings 2400 8N1 (2400 baud, 8 data bits, no parity, 1 stop bit). Be extremely careful what you send to your UPS as certain characters may cause it to power down or may even cause damage to the UPS. Try sending an upper case Y to the UPS (without a return at the end). It should respond with SM. If this is not the case, review the possible problems listed above. If you fat finger the Y and enter y instead, no cause for alarm, you will simply get the APC copyright notice., 244085=Depending on whether or not you have hotplug working, you may need to explicitly load the kernel modules usbserial and pl2303. In Kern's case, this was not necessary., 128362=For a SmartUPS 1000 apcaccess will emit the following output:, 223729=Normally, you will install the Windows version of apcupsd from the binaries. Starting with version 3.11.15, the Windows binaries are distributed with a full GUI installer driven by NSIS, the Nullsoft Scriptable Install System (http://nsis.sourceforge.net)., 11622=The important things to check for are the S: lines describing your UPS and and the I: line showing what driver is handling it. If on the I: line, Driver is listed as Driver=none then you do not have the HID driver loaded or the driver did not attach to the UPS. One common cause is having a Linux kernel older than 2.4.22 (such as a stock RedHat 9 or RHEL 3 kernel). If this is the case for your system, please upgrade to at least kernel version 2.4.22 and try again. If you are already running a 2.4.22 or higher kernel, please read further for instructions for other possible courses of action., 322977=Status logging consists of periodically logging ALL available information concerning the UPS. Since the volume of data is rather large (over 1000 bytes per status), the STATUS data is not automatically sent to the system log file. Instead, it is written as a series of data records in a specific file (normally /etc/apcupsd/apcupsd.status)., 225430=Note also if you are using WinNT or Win2000, the operating system may probe the serial port attempting to attach a serial mouse. This will cause apcupsd to be unable to communicate with the serial port. If this happens, or out of precaution, you can edit the c:\\\\boot.ini file. Find the line that looks something like the following:, 213138=apcupsd-3.11.14 introduces support for SNMP trap catching. Previous versions polled the UPS status once per minute, leading to significant delays before UPS state changes were recognized. With SNMP trap handling, apcupsd monitors the SNMP trap port and will re-poll the UPS whenever a trap is received. This happens, for example, when the UPS switches on or off battery., 102346=MODBUS is APC's replacement for the aging 'apcsmart' (aka UPS-Link) protocol. It is recommended for modern (ex: SMT series) Smart-UPS models. As of 3.14.11, apcupsd supports the MODBUS protocol over RS232 serial interfaces. As of 3.14.13, apcupsd supports the MODBUS protocol over USB., 242689=According to Bill Marr the Belkin F5U109, also sold as F5U409 also works with apcupsd for kernel versions 2.4.25 or higher and kernels 2.6.1 and higher. These newer kernels are needed to have the patch that makes the mct_u232 (Magic Control Technology) module and other adapters work with RS-232 devices that do not assert the CTS signal., 347497=The APC UPS protocol was originally analyzed by Pavel Korensky with additions from Andre H. Hendrick beginning in 1995, and we want to give credit for good, hard work, where credit is due. After having said that, you will see that Steven Freed built much of the original apcupsd information file., 37794=Some specific packages are necessary when building Apcupsd with USB support on Darwin. You must install libusb-0.1.12 which can be obtained from MacPorts (http://www.macports.org) (formerly DarwinPorts) or Fink (http://fink.sourceforge.net) or downloaded and built by hand (http://www.libusb.org). You must not use libusb-1.x or higher (apcupsd does not support the new 1.0 APIs) nor any version earlier than 0.1.12 (earlier versions have a bug that apcupsd triggers). Generally that means you must use exactly 0.1.12. Note that Apcupsd is sensitive to the install location of libusb, so beware if you change it from the default., 325007=An example of output from a BackUPS RS 1500 follows:, 222756=The Windows version of apcupsd has been tested on Win95, Win98, WinMe, WinNT, WinXP, and Win2000 systems. This version of apcupsd has been built to run natively on Windows (no Cygwin or other emulation layer needed). Even though the Win32 version of apcupsd is a port that relies on many Unix features, it is just the same a true Windows program. When running, it is perfectly integrated with Windows and displays its icon in the system icon tray, and provides a system tray menu to obtain additional information on how apcupsd is running (status and events dialog boxes).}",
    "lastModified": "Tue, 03 Feb 2015 03:01:17 GMT",
    "textBeforeTable": "The following table shows the features supported by the current version of apcupsd for various cables running the UPS in voltage-signalling mode. Voltage Signalling Features Supported by Apcupsd for Various Cables All USB cables such as 940-0127[A/B] 940-0128A Simple Signal Only, Back-UPS CS in serial mode. 940-1524C Smart mode Only 940-0095[A/B/C] PnP (Plug and Play), all models. 940-0024[B/C/G] Smart mode Only, SU and BKPro only. 940-0119A Simple Signal Only, Back-UPS Office, and BackUPS ES. 940-0023A Simple Signal Only, all models. 940-0020[B/C] Simple Signal Only, all models. apcupsd will also support the following off the shelf cables that are supplied by APC Other APC Cables that apcupsd Supports The information for constructing this cable was discovered and transmitted to us by slither_man. Many thanks! DEVICE /dev/ttyS0 (or whatever your serial port is) UPSTYPE apcsmart UPSCABLE smart  When using this cable with apcupsd specify the following in apcupsd.conf: Note, one user, Martin, has found that if the shield is not connected to the Frame Ground in the above diagram (not in our original schematic), the UPS (a BackUPS CS 500 EI) will be unstable and likely to rapidly switch from power to batteries (i.e. chatter). For the serial port DB9F connector, the pin numbers are stamped in the plastic near each pin. In addition, there is a diagram near the end of this chapter. |____| ----------------------- | | | . . . .",
    "textAfterTable": "940-0127A Yes Yes Yes No 940-0128A Yes Yes Yes No 940-0095A/B/C Yes Yes Yes No simple Yes Yes Yes No Voltage Signalling Apparently, all APC voltage-signalling UPSes with DB9 serial ports have the same signals on the output pins of the UPS. The difference at the computer end is due to different cable configurations. Thus, by measuring the connectivity of a cable, one can determine how to program the UPS. The signals presented or accepted by the UPS on its DB9 connector using the numbering scheme listed above is:  UPS Pin Signal meaning 1 <- Shutdown when set by computer for 1-5 seconds. 2 -> On battery power (this signal is normally low but goes high when the UPS switches to batteries). 3 -> Mains down (line fail) See Note 1 below. 5 -> Low battery. See Note 1 below. 6 -> Inverse of mains down signal. See Note 2 below. 7 <- Turn on/off power (only on advanced UPSes only) Note 1: these two lines are normally open, but close when the appropriate signal is triggered. In fact, they are open collector outputs which are rated for a maximum of +40VDC and 25 mA. Thus the 4.7K ohm resistor used in the Custom Simple cable works quite well. Note 2: the same as note 1 except that the line is normally closed, and opens when the line voltage fails.",
    "hasKeyColumn": true,
    "keyColumnIndex": 1,
    "headerRowIndex": 0
}