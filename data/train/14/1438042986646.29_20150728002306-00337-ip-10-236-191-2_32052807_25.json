{
    "relation": [
        [
            "Parameter",
            "validationQuery",
            "testOnBorrow"
        ],
        [
            "Default",
            "",
            "true"
        ],
        [
            "Description",
            "The SQL query that will be used to validate connections from this pool before returning them to the caller. If specified, this query MUST be an SQL SELECT statement that returns at least one row.",
            "The indication of whether objects will be validated before being borrowed from the pool. If the object fails to validate, it will be dropped from the pool, and we will attempt to borrow another. NOTE \u2013 for a true value to have any effect, the validationQuery parameter must be set to a non-null string."
        ]
    ],
    "pageTitle": "\u00bb Database \u00bb Managed Chaos by Naresh Jain",
    "title": "",
    "url": "http://blogs.agilefaqs.com/category/database/",
    "hasHeader": true,
    "headerPosition": "FIRST_ROW",
    "tableType": "RELATION",
    "tableNum": 25,
    "s3Link": "common-crawl/crawl-data/CC-MAIN-2015-32/segments/1438042986646.29/warc/CC-MAIN-20150728002306-00337-ip-10-236-191-2.ec2.internal.warc.gz",
    "recordEndOffset": 32073327,
    "recordOffset": 32052807,
    "tableOrientation": "HORIZONTAL",
    "TableContextTimeStampAfterTable": "{29323=Also because of this, if you had a unique constraint on the column and tried to insert another value with trailing space, MySQL would return ERROR 1062 (23000): Duplicate entry., 18422=mysql> ALTER TABLE MyTable CHANGE expiry_date expiry_date DATETIME NOT NULL DEFAULT \u20182012-10-01 00:00:00\u2032;, 19820=mysql> CREATE TABLE IF NOT EXISTS `AnotherTable` ( `id` int(10) NOT NULL auto_increment, `name` varchar(150) NOT NULL, `creation_date` TIMESTAMP DEFAULT \u20180000-00-00 00:00:00\u2032, `last_updated` TIMESTAMP DEFAULT now() on update now(), PRIMARY KEY (`id`) ) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1;, 45102=ERROR 1045 (28000): Access denied for user \u2026, 30408=ERROR 1062 (23000): Duplicate entry \u2018naresh@industriallogic.com \u2018 for key \u2019email\u2019}",
    "textBeforeTable": "mysql> desc MyTable; mysql> CREATE TABLE IF NOT EXISTS `MyTable` ( `id` int(10) NOT NULL auto_increment, `name` varchar(50) NOT NULL, `expiry_date` TIMESTAMP NOT NULL, PRIMARY KEY (`id`) ) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1; Recently I realized that in MySQL if you declare a column as type TIMESTAMP, it would be automatically updated to the current time stamp any time the row is updated. Friday, October 19th, 2012 Timestamp Gotchas in MySQL \u00ab Previous Entries Archive for the \u2018Database\u2019 Category Recent Comments video user stories unit testing Testing Test Driven Development technical debt TDD simple design SDTConf Scrum Refactoring Teaser Refactoring primitive obsession smell post modern agile",
    "textAfterTable": "name varchar(50) NO NULL expiry_date timestamp NO CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP If you don\u2019t want this behavior then you can use the following command: mysql> ALTER TABLE MyTable CHANGE expiry_date expiry_date TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP; mysql> desc MyTable; Field Type Null Key Default Extra id int(3) NO PRI NULL auto_increment name varchar(50) NO NULL expiry_date timestamp NO CURRENT_TIMESTAMP Point is, Timestamps in MySQL are generally used to track changes to records, and are updated every time the record is changed. However if you want to store a specific value and don\u2019t want it updated, its best you use a DATETIME field. Change it using the following command: mysql> ALTER TABLE MyTable CHANGE expiry_date expiry_date DATETIME NOT NULL DEFAULT \u20182012-10-01 00:00:00\u2032; mysql> desc MyTable; Field Type Null Key Default Extra id int(3) NO PRI NULL auto_increment name varchar(50) NO NULL expiry_date datetime NO 2012-10-01 00:00:00 I also learned that if a table has 2 Timestamps than MySQL does not know which one it needs to do an auto update. Hence this behavior does not work. The work around is: mysql> CREATE TABLE IF NOT EXISTS `AnotherTable` ( `id` int(10) NOT NULL auto_increment, `name` varchar(150) NOT NULL, `creation_date` TIMESTAMP DEFAULT \u20180000-00-00 00:00:00\u2032, `last_updated` TIMESTAMP DEFAULT now()",
    "hasKeyColumn": true,
    "keyColumnIndex": 0,
    "headerRowIndex": 0
}