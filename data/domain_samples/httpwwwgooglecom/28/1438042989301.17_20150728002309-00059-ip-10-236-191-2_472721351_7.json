{
    "relation": [
        [
            "Citing Patent",
            "US6260092 *",
            "US6298067 *",
            "US6430225 *",
            "US6459701 *",
            "US6553036 *",
            "US6651125 *",
            "US7042891",
            "US7106537",
            "US7319669",
            "US7334046",
            "US7340167",
            "US7352701",
            "US7355966",
            "US7362717",
            "US7380030",
            "US7388843",
            "US7388861",
            "US7397768",
            "US7404020",
            "US7406092",
            "US7411958",
            "US7420982 *",
            "US7430175",
            "US7447224",
            "US7453802 *",
            "US7463646 *",
            "US7466700",
            "US7471635",
            "US7477655",
            "US7480293",
            "US7512067 *",
            "US7519058",
            "US7522522",
            "US7522529",
            "US7525910",
            "US7525983",
            "US7558281",
            "US7564789",
            "US7573909",
            "US7580354",
            "US7583597",
            "US7593997",
            "US7609649 *",
            "US7620059",
            "US7630384",
            "US7684401",
            "US7792115",
            "US7822057 *",
            "US7894348",
            "US8295299",
            "US8458714",
            "US8644174",
            "US20040190554 *",
            "US20050013318 *",
            "US20050013609 *",
            "US20050015518 *",
            "US20050018603 *",
            "US20050018606 *",
            "US20050018649 *",
            "US20050018650 *",
            "US20050018663 *",
            "US20050018671 *",
            "US20050018672 *",
            "US20050018675 *",
            "US20050018676 *",
            "US20050018701 *",
            "US20050025060 *",
            "US20050025193 *",
            "US20050030893 *",
            "US20050030978 *",
            "US20050088537 *",
            "WO2001011810A1 *",
            "WO2001035242A1 *"
        ],
        [
            "Filing date",
            "Sep 24, 1998",
            "May 1, 1998",
            "Jul 18, 1997",
            "Aug 6, 1999",
            "May 8, 2000",
            "Sep 28, 1999",
            "Jan 4, 2001",
            "Feb 2, 2005",
            "Nov 22, 2002",
            "Aug 5, 2002",
            "Oct 8, 2004",
            "Sep 19, 2003",
            "Jul 12, 2004",
            "Oct 3, 2002",
            "Oct 1, 2004",
            "Jul 12, 2004",
            "Dec 8, 2006",
            "Sep 11, 2002",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Oct 1, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 12, 2004",
            "Jul 12, 2004",
            "Jul 20, 2004",
            "Jul 12, 2004",
            "Jul 20, 2004",
            "Mar 11, 2004",
            "Jul 20, 2004",
            "Jan 18, 2005",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 12, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Mar 11, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Oct 1, 2004",
            "Apr 26, 2005",
            "Jul 12, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Aug 14, 2008",
            "Jul 20, 2004",
            "Oct 1, 2004",
            "",
            "Oct 5, 2009",
            "Mar 26, 2003",
            "Jul 12, 2004",
            "Jul 12, 2004",
            "Jul 12, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Jul 12, 2004",
            "Jul 12, 2004",
            "Jul 20, 2004",
            "Jul 20, 2004",
            "Oct 1, 2004",
            "Aug 2, 2000",
            "Nov 13, 2000"
        ],
        [
            "Publication date",
            "Jul 10, 2001",
            "Oct 2, 2001",
            "Aug 6, 2002",
            "Oct 1, 2002",
            "Apr 22, 2003",
            "Nov 18, 2003",
            "May 9, 2006",
            "Sep 12, 2006",
            "Jan 15, 2008",
            "Feb 19, 2008",
            "Mar 4, 2008",
            "Apr 1, 2008",
            "Apr 8, 2008",
            "Apr 22, 2008",
            "May 27, 2008",
            "Jun 17, 2008",
            "Jun 17, 2008",
            "Jul 8, 2008",
            "Jul 22, 2008",
            "Jul 29, 2008",
            "Aug 12, 2008",
            "Sep 2, 2008",
            "Sep 30, 2008",
            "Nov 4, 2008",
            "Nov 18, 2008",
            "Dec 9, 2008",
            "Dec 16, 2008",
            "Dec 30, 2008",
            "Jan 13, 2009",
            "Jan 20, 2009",
            "Mar 31, 2009",
            "Apr 14, 2009",
            "Apr 21, 2009",
            "Apr 21, 2009",
            "Apr 28, 2009",
            "Apr 28, 2009",
            "Jul 7, 2009",
            "Jul 21, 2009",
            "Aug 11, 2009",
            "Aug 25, 2009",
            "Sep 1, 2009",
            "Sep 22, 2009",
            "Oct 27, 2009",
            "Nov 17, 2009",
            "Dec 8, 2009",
            "Mar 23, 2010",
            "Sep 7, 2010",
            "Oct 26, 2010",
            "Feb 22, 2011",
            "Oct 23, 2012",
            "Jun 4, 2013",
            "Feb 4, 2014",
            "Sep 30, 2004",
            "Jan 20, 2005",
            "Jan 20, 2005",
            "Jan 20, 2005",
            "Jan 27, 2005",
            "Jan 27, 2005",
            "Jan 27, 2005",
            "Jan 27, 2005",
            "Jan 27, 2005",
            "Jan 27, 2005",
            "Jan 27, 2005",
            "Jan 27, 2005",
            "Jan 27, 2005",
            "Jan 27, 2005",
            "Feb 3, 2005",
            "Feb 3, 2005",
            "Feb 10, 2005",
            "Feb 10, 2005",
            "Apr 28, 2005",
            "Feb 15, 2001",
            "May 17, 2001"
        ],
        [
            "Applicant",
            "Philips Semiconductors, Inc.",
            "3 Com Corporation",
            "Sony Corporation",
            "Emulex Corporation",
            "Jpmorgan Chase Bank",
            "International Business Machines Corporation",
            "Nishan Systems, Inc.",
            "Western Digital Technologies, Inc.",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corp.",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic Corporation",
            "Qlogic, Corporation",
            "Cisco Technology, Inc.",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "Qlogic, Corporation",
            "International Business Machines Corporation",
            "Cisco Technology, Inc.",
            "Galloway William C.",
            "Fike John M.",
            "Fike John M.",
            "Wen William J.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Fike John M.",
            "Fike John M.",
            "Dropps Frank R.",
            "Dropps Frank R.",
            "Sony Corporation",
            "Emulex Corp",
            "Zebrazone Inc"
        ],
        [
            "Title",
            "Point to point or ring connectable bus bridge and an interface with method for enhancing link performance in a point to point connectable bus bridge system using the fiber channel",
            "Distributed arbitration scheme for network device",
            "Apparatus and method for digital data transmission",
            "Variable access fairness in a fibre channel arbitrated loop",
            "Method and apparatus for preserving loop fairness with dynamic half-duplex",
            "Processing channel subsystem pending I/O work queues based on priorities",
            "Dynamic selection of lowest latency path in a network switch",
            "Disk drive using a timer to arbitrate periodic serial communication with a power driver",
            "Method and system for controlling packet flow in networks",
            "System and method for optimizing frame routing in a network",
            "Fibre channel transparent switch for mixed switch fabrics",
            "Buffer to buffer credit recovery for in-line fibre channel credit extension devices",
            "Method and system for minimizing disruption in common-access networks",
            "Method and system for using distributed name servers in multi-module fibre channel switches",
            "Method and system for using an in-line credit extender with a host bus adapter",
            "Method and apparatus for testing loop pathway integrity in a fibre channel arbitrated loop",
            "Method and system for primary blade selection in a multi-module fibre channel switch",
            "Zone management in a multi-module fibre channel switch",
            "Integrated fibre channel fabric controller",
            "Programmable pseudo virtual lanes for fibre channel systems",
            "Method and system for transferring data directly between storage devices in a storage area network",
            "Method and system for keeping a fibre channel arbitrated loop open during frame gaps",
            "Method and system for managing traffic in fibre channel systems",
            "Method and system for routing fibre channel frames",
            "Method and apparatus for detecting and removing orphaned primitives in a fibre channel network",
            "Method and system for fibre channel arbitrated loop acceleration",
            "LUN based hard zoning in fibre channel switches",
            "Method and apparatus for test pattern generation",
            "Method and system for power control of fibre channel switches",
            "Method and system for preventing deadlock in fibre channel fabrics using frame priorities",
            "Method and system for congestion control based on optimum bandwidth allocation in a fibre channel switch",
            "Address translation in fibre channel switches",
            "Method and system for reducing latency and congestion in fibre channel switches",
            "Method and system for detecting congestion and over subscription in a fibre channel network",
            "Method and system for non-disruptive data capture in networks",
            "Method and system for selecting virtual lanes in fibre channel switches",
            "Method and system for configuring fibre channel ports",
            "Method and system for reducing deadlock in fibre channel fabrics using virtual lanes",
            "Method and system for programmable data dependant network routing",
            "Multi-speed cut through operation in fibre channel switches",
            "Method and system for improving bandwidth and reducing idles in fibre channel switches",
            "Method and system for LUN remapping in fibre channel networks",
            "Methods and apparatus for improving network based virtualization performance",
            "Method and apparatus for accelerating receive-modify-send frames in a fibre channel network",
            "Method and system for distributing credit in fibre channel systems",
            "Method and system for using extended fabric features with fibre channel switch elements",
            "Method and system for routing and filtering network data packets in fibre channel systems",
            "Method and system for keeping a fibre channel arbitrated loop open during frame gaps",
            "Method and system for congestion control in a fibre channel switch",
            "High speed fibre channel switch element",
            "Method, system and program products for managing logical processors of a computing environment",
            "Network based virtualization performance",
            "Fair multilevel arbitration system",
            "Method and system for fibre channel arbitrated loop acceleration",
            "Method and system for minimizing disruption in common-access networks",
            "Method and system for non-disruptive data capture in networks",
            "Method and system for reducing latency and congestion in fibre channel switches",
            "Method and system for congestion control based on optimum bandwidth allocation in a fibre channel switch",
            "Method and system for improving bandwidth and reducing idles in fibre channel switches",
            "Method and system for configuring fibre channel ports",
            "Method and system for power control of fibre channel switches",
            "Method and system for keeping a fibre channel arbitrated loop open during frame gaps",
            "Lun based hard zoning in fibre channel switches",
            "Multi-speed cut through operation in fibre channel",
            "Programmable pseudo virtual lanes for fibre channel systems",
            "Method and system for routing fibre channel frames",
            "Method and apparatus for testing loop pathway integrity in a fibre channel arbitrated loop",
            "Method and apparatus for test pattern generation",
            "Method and system for detecting congestion and over subscription in a fibre channel network",
            "Method and system for managing traffic in fibre channel systems",
            "Image pickup device and method",
            "Variable access fairness in a fibre channel arbitrated loop",
            "Highly distributed computer server architecture and operating system"
        ]
    ],
    "pageTitle": "Patent US6061360 - Method and apparatus for preserving loop fairness with dynamic half-duplex - Google Patents",
    "title": "",
    "url": "http://www.google.com/patents/US6061360?dq=5,893,120",
    "hasHeader": true,
    "headerPosition": "FIRST_ROW",
    "tableType": "RELATION",
    "tableNum": 7,
    "s3Link": "common-crawl/crawl-data/CC-MAIN-2015-32/segments/1438042989301.17/warc/CC-MAIN-20150728002309-00059-ip-10-236-191-2.ec2.internal.warc.gz",
    "recordEndOffset": 472756859,
    "recordOffset": 472721351,
    "tableOrientation": "HORIZONTAL",
    "TableContextTimeStampAfterTable": "{51591=One embodiment of system 1200 optionally includes a second CPU information-handling system 1202' (which is identical or similar to system 1202) having central processing unit 1204' (which is identical to central processing unit 1204), a random-access memory (\"RAM\") 1232' (which is identical to RAM 1232), and a system bus 1230' (which is identical to system bus 1230) for communicatively coupling central processing unit 1204' and random-access memory 1232'. CPU information-handling system 1202' includes its own fibre-channel node interface 1220' (which is identical to node interface 1220), but is connected to one or more disc systems 100 (in this illustrated example, it is just connected to disc system 100', but in other examples is connected to all devices or disc systems 100 through 100') through a second fibre-channel loop 1250' (separate and independent from loop 1250). This configuration allows the two CPU information-handling system 1202 and 1202' to share one or more of the disc systems 100 using separate fibre-channel loops for each CPU information-handling system 1202. In yet other embodiments, all devices 100 through 100', and all CPU information-handling systems 1202 through 1202', are connected to both loops 1250 and 1250'., 91119=In a dual-ported fibre-channel arbitrated-loop design 1200, the buffers in on-chip frame buffer 119 may be used to manage inbound and outbound frames. Frames received and transmitted are usually stored in a large off-chip area (e.g., off-chip buffer 111) at a slower transfer rate. Even when off-chip buffer 111 is capable of the full transfer rate for a single port, for a dual-ported design the bandwidth required is much greater, adding additional cost. On-chip frame buffer 119 in the FC-AL ASIC 110 (see FIG. 1) may be configured in various ways to strike a balance between performance, silicon real estate, and cost. The present specification details the use of dedicated frame buffers 53 and 53' (components of the overall on-chip frame buffer 119) to receive non-data type frames simultaneously on each port, as well as providing a dedicated large data-frame buffer 55 (also a component of the overall on-chip frame buffer 119). In a dual-ported design according to the present invention, frames may be received on both ports 116 simultaneously. The frames are usually moved to and stored in a larger off-chip memory 111 after they are received. More information can be found in U.S. patent application Ser. No.: 09/193,387 entitled \"Method and Dedicated Frame Buffer for Loop Initialization and Responses.\", 96077=One goal of the present invention is to hold the loop 1250 open and avoid an extra arbitration cycle when data will shortly be available to a port 116. The loop 1250 must not be held open waiting for data to become available if the wait will be for an extended period of time (for example, for the time required to perform a head switch), since this would prevent other ports on the loop 1250 from performing transfers., 62638=The improved fairness-preserving feature of the present invention limits the length of time that one node 116 is allowed to keep control of loop 1250, thus assuring that other nodes 116 get a turn within a reasonable amount of time (thus avoiding \"starvation\"). In one embodiment, the length of time one node 116 is allowed to keep control over the loop is regulated by regulating the maximum number of frames transferred at any one operation. In one embodiment, if that node 116 is sufficiently near the completion of its data transfer, it is allowed to complete that transfer, even though it exceeds the maximum number of frames that would otherwise be allowed., 49773=FIG. 2 is a schematic view of a computer system 1200. Advantageously, the present invention is well-suited for use in computer system 1200. Computer system 1200 may also be called an electronic system or an information-handling system and includes a central processing unit (\"CPU\"), a memory and a system bus. Computer system 1200 includes a CPU information-handling system 1202 having a central processing unit 1204, a random-access memory (\"RAM\") 1232, and a system bus 1230 for communicatively coupling the central processing unit 1204 and the random-access memory 1232. The CPU information-handling system 1202 includes the fibre-channel node interface 1220. Each one of the one or more disc-storage information-handling systems 100 through 100' includes one or more disc-drive device 1256 and a fibre-channel node interface 1220., 93464=In a fibre-channel arbitrated-loop design 1200, a node interface 1220 of loop port 116 must arbitrate for access to the loop 1250. A priority system is used to determine which port gains control of the loop 1250, and a \"fairness\" scheme is used to assure that ports are not starved. As a target device, the disc drive 100 usually is given a lower priority than a CPU information-handling system 1202, with the result that the drive 100 may have to wait to win arbitration until higher-priority devices complete their access. When the node interface 1220 of loop port 116 gains control of the loop 1250, it sends as many frames as possible before closing the loop 1250, in order to avoid unnecessary arbitration cycles. But when data are no longer available, the node interface 1220 of loop port 116 closes the loop 1250 to allow other ports access to the loop 1250. This is the method used in certain other controller architectures. The present invention provides a mechanism for enhancing loop performance by changing the rules for the decision of whether or not to close the loop 1250, based on data availability to the port, which thus reduces overall loop overhead., 49552=In other embodiments, transceivers 115 are merely interfaces between the serial loop 1250 and chip 110, wherein the serialization/deserialization to ten-bit wide or twenty-bit-wide data occurs on-chip., 50647=In some embodiments, multiple disc drives 1256 are connected to a single node interface 1220, for example in a RAID (redundant array of inexpensive/independent disc drives) configuration, such that device 100' is a RAID array of disc drives. The CPU information-handling system 1202 may also include an input/output interface circuit 1209 that drives an internal input/output bus 1210 and several peripheral devices, such as 1212, 1214, and 1216, that may be attached to the input/output bus 1210. Peripheral devices may include hard-disc drives, magneto-optical drives, floppy-disc drives, monitors, keyboards and other such peripherals. Any type of disc drive or other peripheral device may use the fibre-channel methods and apparatus (especially, e.g., the improvements in fibre-channel node interface 1220) described herein. For each device, either the A port or the B port can be used to connect to any given loop 1250., 60560=For example, in a system 1200 (see FIG. 2) according to the present invention, an information-handling system 1202 sends a read operation command to disc drive 100 (which will return a plurality of data frames) and sends a DHD primitive signal (which will allow the disc drive 100 to keep control over the loop 1250 for an extended period of time in order to complete transfer of a large number of data frames without giving up control and then having to re-arbitrate for control of the loop 1250). Thus, because the disc drive 100 that has received the DHD primitive signal is allowed to use the re-arbitration window again even though it had previously won arbitration and was waiting for the next fairness window. The fairness of the loop (the ability for all devices to have equal access to the loop resource) is distorted., 48548=In one embodiment, loop-port transceiver blocks 115 (i.e., 115 and 115') include port transceivers which serialize and deserialize data transfers through Port A and Port B to the fibre-channel loops 1250 (see FIG. 2) connected thereto. In some embodiments, transceivers 115 are implemented as external transceivers; in other embodiments, these transceivers are located on-chip in block 110. In some embodiments, the right-side interfaces (i.e., right side relative to the transceiver 115 or 115' of FIG. 1) are parallel input-output signals that are ten bits wide; in other embodiments, they are twenty bits wide. Together, blocks 110, 111, 112, port-A transceiver 115 and port-B transceiver 115' form fibre-channel node interface 1220. In some embodiments, port transceivers 115 and 115' are integrated within a single chip 110. In other embodiments, the transceivers 115 and 115', including their serializer/deserializer functions are implemented on circuits separate from chip 110., 95731=at least Y-words of data are available in the data-frame buffer 55. In one embodiment, the loop 1250 is held open if the predetermined amount of data is available (at least one-half frame on-chip and at least one frame available off-chip), but the transfer of a frame will not start until an entire frame is available on-chip., 68992=In one embodiment, a transfer-length counter 165 (also called xfr-- cnt-- out(26:0)) is provided. Transfer-length counter 165 is decremented by logic 166 to indicate the remaining number of words to transmit; together transmit-length counter 165 and decrementor 166 form a Data-transmit frame-length counter 82. This embodiment compares the count of remaining words in transfer-length counter 165 against a programmable value held in minimum-length register 168 (also called dhd-- cmpl-- len(26:0)) to block suspension of the transfer if the transfer is nearing completion (i.e., the transfer is defined as \"nearing completion\" if there are fewer words remaining to be transferred than the value held in minimum-length register 168). In one embodiment, AND gate 171 forms a logical AND of just signal 164 and signal 169 to drive signal suspend-- xfer 172 that in turn causes suspension of the data-frame transmit operation, and temporary closing of the loop to allow other devices to use the loop 1250 (i.e., this embodiment ignores signal 170 described below, and suspends a transfer once the limit is reached unless there are fewer remaining words than the value in register 168). In another embodiment, enable-- DHD-- suspend signal 170 for fairness-preserving feature 175 is also provided as an input to AND gate 171. The logical equation to suspend the transfer (the output of gate 171 is as follows:, 84529=In one embodiment, 8B/10B encoder logic 27 accepts the sixteen-bit data and 2 k-characters (lower k is always 0) from arbitrated-loop logic 26. In one embodiment, the inputs are encoded into two ten-bit characters which are separated and output one at a time to transceiver 115 (see FIG. 1), which converts the data to a serial stream. In other embodiments, both ten-bit characters (i.e., twenty bits) are sent in parallel to transceiver 1115, which converts the data to a serial stream. The transmit multiplexer 79 (see FIG. 3) also provides status to indicate when the end-of-frame (\"EOF\") delimiter is being transferred, to allow the encoder 27 to select the correct type (or \"flavor\") of the EOF based on the current running disparity. Also, when the port is transmitting (in an Opened state) or when arbitrated-loop logic 26 is transmitting a primitive, the running disparity is forced to negative at the start of each non-EOF primitive. The output signals A-- OUT 3023 and B-- OUT 3024 transmit data to the respective transceivers 115 and 115'., 58098=In a Fibre Channel Arbitrated Loop design such as is addressed in the present invention, a loop port 1220 must arbitrate for access to the loop 1250. A priority system is used to determine which port 1220 gains control of the loop 1250 and a \"fairness\" scheme is used to assure that ports are not starved. As a target device, the disk drive 100 usually plays fair and is given a lower priority, which assures each drive 100 equal access to the loop 1250. Initiators (such as CPU information-handling system 1202) may play unfair to keep the drive queues full (drive queues are lists of pending and current operations that each disc drive 100 maintains for commands directed to it). An \"initiator\" is a device on a Fibre Channel loop that requests an input/output (\"I/O\") process that is to be performed by another device (called the \"target\")., 88906=Conditions that cause the loop 1250 to be closed (control of the communications channel to be released by a port 116) include:, 59001=\"Full duplex\" is a mode of operation wherein data is able to be transmitted out a port at the very same time that data is being received into that port 1220. \"Half duplex\" is a mode of operation wherein data is able to be transmitted out a port or received into that port, but only alternatively and not at the same time., 59362=One aspect of the present invention is a feature called \"Dynamic Half Duplex\" that is added to the Fibre-Channel Arbitrated Loop architecture (FC-AL-2). Even when a port is capable of full-duplex operation (such as the design described below in sections II, III, IV, and V), there are situations where the number of loop arbitration cycles may be reduced by providing the DHD feature. For example, when an OPEN port (a port 116 that is in an OPEN state) transmits the CLS primitive signal, the OPENED port can only transmit frames based on existing credit. (For example, the A port 116 of a node interface 1220 is OPENED to receive a new command, it receives two R-- RDY's, and has read data for the OPEN port. The OPENED port can only transmit two data frames before it must close.) With Dynamic Half Duplex, the OPEN port transmits the DHD primitive instead of the CLS and continues to transmit R-- RDY's. This can allow the disc drive 100 that has read data to complete the transfer when a new command is received without even having to arbitrate for the loop. This DHD feature may reduce arbitration cycles but also may distort loop fairness., 44762=Referring to FIG. 2 as well as FIG. 1, a fibre-channel loop-interface circuit 1220 (also called node interface 1220) includes a dedicated transmit-frame buffer 73 for loop initialization and responses. In one embodiment, each node interface 1220 includes two ports 116 (designated port A and port B). (\"Loop initialization\" is accomplished by transmitting a sequence of one or more specialized non-data frames (and monitoring responses to those frames) to initialize a fibre-channel loop. \"Responses\" are non-data frames sent in response to commands or inquiries from other nodes.) The fibre-channel arbitrated-loop communications channel 1250 (also called a loop 1250, or fibre-channel loop 1250) can be used to communicate data between disc-storage devices 100 and computers (or other information-handling systems) 1202 or other information-handling devices. In one embodiment, fibre-channel loop 1250 is a serial communications channel; in other embodiments two or more parallel lines (or \"fibers\") are used to implement fibre-channel loop 1250. Having such a dedicated transmit-frame buffer 73 allows one port 116 of a dual-port node 1220 to be transmitting initialization or response frames while another port is transmitting or receiving data frames. The ports 116 are serial lines, one line 117 for inbound data, and another line 118 for outbound data, both lines 117 and 118 connecting to, and forming part of, communications channel loop 1250. Dedicated receive buffers (53, 53' and 55) are also provided for each port 116 of a two-port node. (Note that each block having a reference numeral with a prime (e.g., 53') provides the same function as the corresponding block without the prime (e.g., 53), but is used for a separate loop port or communications channel.) Cyclic-redundancy-code information received from the fibre channel 1250 along with a frame is stored in one of one or more frame buffers (53, 53' or 55), and later checked to ensure the integrity of the data while in the frame buffer (53, 53' or 55). Control of a loop 1250 is maintained (i.e., the loop connection is held open) as long as a programmable amount of data is available for transmission, in order to reduce the overall amount of time spent arbitrating for control of the loop 1250., 26912=This application claims the benefit under 35 U.S.C. 119(e) of U.S. Provisional Application Ser. No. 60/075,797 filed Feb. 24, 1998., 72419=In one embodiment, suspend-- xfer signal 172 is also provided as an input port open control state machine 42/42', and causes port open control state machine 42/42' to \"close\" the loop (i.e., to release control of the loop 1250 in order that other device's ports are allowed to arbitrate for the loop) thus preventing a port from unfairly keeping control of loop 1250. In some embodiments, suspend-- xfer signal 172 is activated once a predetermined amount of data (e.g., number of words) are transferred. In other embodiments, suspend-- xfer signal 172 is activated once a predetermined length of time lapses. In some of either of these types of embodiments, activation of suspend-- xfer signal 172 is inhibited if fewer than a predetermined amount of data (e.g., number of frames) are remaining to be transferred. In some of any of the above types of embodiments, activation of suspend-- xfer signal 172 is inhibited if enable-- DHD-- suspend signal 170 is disabled., 78460=In one embodiment, each of loop port circuits 20 interface to external transceivers 115 (see FIG. 1) using a ten-bit data interface. In such an embodiment, the transceivers 115 serialize and deserialize serial data to and from a parallel interface (e.g., a ten-bit-wide or a twenty-bit-wide interface). In other embodiments, these transceivers 1115 are integrated into chip 110. The parallel data (input from the fibre channel) are captured using receive clocks from the receiver portion of each transceiver 115, and are converted to a twenty-bit-wide format before decoding using a parallel 8B/10B decoder. The sixteen-bit data plus two k-characters (used to denote special ordered sets) are then checked for word validity before being placed in the arbitrated-loop logic 26. The output of the arbitrated-loop logic 26 is re-synchronized to the transmitter clock and may be passed to the receive-framing logic or re-transmitted on the loop 1250 through encoder 27. In one embodiment, encoder 27 converts one eight-bit character to one ten-bit character during each operation; in other embodiments, two or more eight-bit characters are converted into the corresponding number of ten-bit characters in each operation. (See U.S. Pat. No. 5,663,724 entitled \"16B/20B Encoder.\") The arbitrated-loop logic 26 includes a loop state machine, an ordered-set decoder, and elasticity insert and delete functions. Loop-port circuits 20 implement the Arbitrated-Loop Protocol as defined in the Fibre-Channel Arbitrated-Loop ANSI standard (i.e., FC-AL and/or FC-AL2, described above)., 94663=In certain other controller architectures, when the End-of-Frame delimiter is transmitted, the port determines whether another frame is available. If data are no longer available (for example, if a full frame is not available for transmission), then the loop 1250 is closed. Data may again become available shortly afterwards, so the port must arbitrate again later and win arbitration before continuing the transfer. If this happens as the last frame of the transfer becomes available, completion of the transfer is delayed, which may result in a delay before the next command can be The present invention provides a mechanism for controller architecture designs which allows the loop 1250 to be held open by a port if data will shortly be available to the port. In one embodiment, the loop 1250 is held open in anticipation of sufficient further data becoming available to a port (to justify that port's retaining control of the loop) when both of the following conditions are met:, 73577=For one embodiment of the present invention, frame buffers have been added to the third-generation application-specific integrated circuit (\"ASIC\") chip (the fibre-channel interface chip 110) to allow both ports to be active simultaneously. Two buffers that receive non-data frames (also called \"receive-non-data-frame buffers\" 53 and 53' of FIG. 1) are provided to allow commands and FCP frames (fibre-channel-protocol frames) to be received simultaneously at both ports of the node (and also to permit full-duplex operations, i.e., receiving on one fiber of a port while transmitting on the other fiber of the same port). This allows a disc drive 100 (see FIG. 2) to receive new commands (or other non-data frames) on one port during a data transfer on the same port and/or on the other port, rather than waiting until a pause or the end of the transfer. By having the commands earlier than in conventional approaches, the present invention allows the commands to be sorted and optimized while data transfers are progressing, thus improving the performance of the system 1200., 71547=When data frames are to be transmitted, counter 160 is reset (i.e., set to a value of zero) when a DHD primitive is received and counter 160 is then incremented by one for each data frame transmitted. When counter 160 reaches the maximum allowed value held in limit register 163 (unless the transfer is near the end), then no more data frames are transmitted until the next time arbitration for loop 1250 is won., 61407=The initiator information-handling system 1202 (see FIG. 2) that has a higher-priority address and plays unfair (i.e., by using its high-priority address to take control of the loop at the expense of other devices with lower priority addresses, even though they may have been waiting their turn for a longer time) wins arbitration and sends a new command (e.g., a DHD command) to a drive 100. The drive 100 has been arbitrating for the loop 1250 because it has read data for the initiator 1202. When the drive 100 receives the DHD command, it is allowed to send all of its data frames and the response that completes the operation. Other drives (e.g., drive 100') that did not get opened with a new command must wait until they \"fairly\" win arbitration. In the meantime, the drive 100 that finished the command could have read data for the next command. Since the previous command completed, the initiator 1202 may send that drive 100 a new command to keep its queue full. The new command could allow the drive 100 to complete another read transfer. Over time, some drives may get \"starved\" for access to the loop 1250 and finish fewer commands than those that made use of receiving the DHD., 47081=In some embodiments, disc drive 100 includes a magnetic-storage head-disc assembly (\"HDA\") 114 having one or more disc platters 134, one or more magnetic read/write transducers 150 per disc platter, and an arm actuator assembly 126. Signals between the transducers (or \"heads\") and HDA interface 113 transfer data to and from the disc platters 134. Thus, the \"disc drive\" of some embodiments (e.g., disc drive 1256 of FIG. 1) includes HDA 114 and HDA interface 113 (e.g., a conventional SCSI drive), and one or more such conventional disc drives 1256 is connected to an external node interface 1220 in order to connect to a loop or fibre-channel topology, as shown in FIG. 1. In other embodiments, a \"disc drive\" is typified by the disc drive 100 of FIG. 2, and includes a node interface 1220 integrated with the disc drive 1256 in overall disc drive 100. In one embodiment, data are in turn transferred from and to off-chip buffer 111. The invention provides a dedicated on-chip buffer 119, which, in the embodiment shown, includes a receive-non-data-frame buffer 53 (alternately called an \"inbound non-data buffer 53\") for each port (i.e., buffers 53 and 53'), a transmit-frame buffer 73 which, in one embodiment, can be used simultaneously by both ports (in other embodiments, a single buffer is used by only one port at a time), and a shared data-frame buffer 55, along with a CRC checker 596., 30724=The fibre-channel arbitrated loop (\"FC-AL\") is an industry-standard system employing a byte-oriented DC-balanced (0,4) run-length-limited 8B/10B-partitioned block-transmission code scheme. The FC-AL operates at a clock frequency of 106.25 MHZ. One form of an 8B/10B encoder/decoder is described in U.S. Pat. No. 4,486,739 granted Dec. 4, 1984 for \"Byte Oriented DC Balanced (0,4) 8B/10B Partitioned Block Transmission Code\" by Franaszek et al., 63331=According to the present invention, in order to preserve loop fairness when using Dynamic Half Duplex, a numerical frame-limit feature is added to node interface 1220. In one embodiment, an upper numerical limit is placed on how many read data frames (i.e., data frames to be transmitted) are allowed to be transmitted after a device (e.g., disc drive 100) receives a DHD command (also called a DHD \"primitive\") unless the transfer is nearing completion. In some embodiments, the numerical limit is programmable and set either by a vendor-unique Log-in parameter (in one embodiment) or mode page setting (in another embodiment) or set to a default value via a microprocessor (in another embodiment). This allows an initiator 1220 to programmably tune the numerical limit value for the application (i.e., the software running in CPU information-handling system 1202) in which the drive 100 is used, or allow the drive to set a reasonable value., 68248=While the above description is specifically drawn to embodiments that involve the dynamic half duplex feature, other embodiments of the present invention exist in which the fairness-preserving feature 175 of the present invention is provided independent of the DHD feature. For example, in some embodiments, the fairness-preserving feature 175 is provided but the DHD feature is not provided. In other embodiments both are provided, but the fairness-preserving feature is used both when the DHD command has been received, and in certain other situations as well, in order to enhance fairness to those situations. For example, in one embodiment, transfers of write data from information-handling system 1202 to disc drive 100, 56798=\"Fairness\" in this context is a mode of operation wherein a shared resource, such as Fibre Channel loop 1250, is made available on a timely basis to each of a plurality of users, such as disc drives 100; i.e., without undue delay, and for an amount of time proportional to the amount of data each disc drive 100 needs to transfer. \"Playing unfair\" is a mode of operation wherein one user, for example a port of CPU information-handling system 1202 (acting as an initiator), takes control of the shared resource without waiting for every other users to have a turn. Playing unfair is often desirable in certain such limited circumstances (e.g., allowing fast devices to take more turns than slow devices), because it allows, for example, CPU information-handling system 1202 to start operations on a large number of slower disc drives 100. Allowing one disc drive 100 to play unfair may allow data transfer from that device to complete sooner than otherwise, but generally results in poorer system performance, because other disc drives 100 will not get serviced and will not get freed up to perform other operations, and because the CPU information-handling system 1202 will have to wait too long to get that data from those other disc drives 100 (see FIG. 2)., 86564=Loop-port A/B open-control state machines 42 (Port A) and 42' (Port B) handle the case where the port is opened by another L-- Port or when the loop 1250 is opened to transmit frames. This logic generates requests to arbitrate and to close the loop 1250, and requests to transmit R-- RDY's and frames of various sorts, and can be configured for half-duplex or full-duplex operation., 64304=In one embodiment, the present invention provides a fairness-preserving apparatus 175 as shown in FIG. 1. In one embodiment, a 16-bit counter 160 (also called herein dhd-- cnt-- out(15:0); see FIG. 1) is zeroed by init-- zero signal 159 when the DHD is received and is incremented (using incrementor 161) for each frame transmitted. Comparitor 162 checks when the DHD counter 160 has reached the numerical limit value stored in limit register 163 (also called dhd-- max-- frms(15:0)) to decide when to suspend the data transfer (close the loop 1250). Comparator 162 outputs suspend-- xfer signal 164. In one embodiment, suspend-- xfer signal 164 causes suspension of the data-frame transmit operation, and temporary closing of the loop to allow other devices to use the loop 1250 (i.e., this embodiment ignores signal 169 and signal 170 described below, and suspends a transfer once the limit is reached by making suspend-- xfer signal 172 equal to suspend-- xfer signal 164). In another embodiment, an enable-- DHD-- suspend signal 170 for this preserving-fairness apparatus 175 is also provided as an input to AND gate 171 (i.e., this embodiment ignores signal 169 described below, and suspends a transfer once the limit is reached if the enable signal 170 is also \"on\"; if enable signal 170 is \"off\" then the fairness-preserving feature 175 of the present invention is disabled)., 90090=In FIG. 5, loop-port A/B open-init-control state machines 46 (Port A) and 46' (Port B) handle the case of when the loop 1250 is in the Open-Init state. This logic 46 and 46' generates requests to transmit frames. There is one state machine for each port (46 and 46', respectively). These state machines generate a request to transmit a frame when microprocessor 112 requests it, and monitor for the transmission of the EOF. When the transmission is complete, a transfer-complete is generated to microprocessor 112., 42763=FIG. 2 is a block diagram of an information-handling system 1200 incorporating the present invention.}",
    "textBeforeTable": "Patent Citations It is to be understood that the above description is intended to be illustrative, and not restrictive. Although numerous characteristics and advantages of various embodiments of the present invention have been set forth in the foregoing description, together with details of the structure and function of various embodiments, many other embodiments and changes to details will be apparent to those of skill in the art upon reviewing the above description. The scope of the invention should, therefore, be determined with reference to the appended claims, along with the full scope of equivalents to which such claims are entitled. Still another aspect of the present invention provides a fibre-channel node controller system for preserving loop fairness. This system includes a fibre-channel arbitrated-loop serial communications channel (1250), a first channel node (1220) having a first port (116) attached to the fibre-channel arbitrated-loop serial communications channel (1250), wherein the first port arbitrates for control of that port's attached communications channel; and fairness-preserving means as described herein above for causing control of the communications channel to be released based at least in part on whether a predetermined amount of use has occurred between the first port and the communications channel. Some embodiments of the above methods further include steps of: (c) receiving a dynamic half duplex command; and (d) initializing the determining step (b)(iii) upon receipt of the dynamic half duplex command. In some of these embodiments, the initializing step",
    "textAfterTable": "US20040190554 * Mar 26, 2003 Sep 30, 2004 Galloway William C. Fair multilevel arbitration system US20050013318 * Jul 12, 2004 Jan 20, 2005 Fike John M. Method and system for fibre channel arbitrated loop acceleration US20050013609 * Jul 12, 2004 Jan 20, 2005 Fike John M. Method and system for minimizing disruption in common-access networks US20050015518 * Jul 12, 2004 Jan 20, 2005 Wen William J. Method and system for non-disruptive data capture in networks US20050018603 * Jul 20, 2004 Jan 27, 2005 Dropps Frank R. Method and system for reducing latency and congestion in fibre channel switches US20050018606 * Jul 20, 2004 Jan 27, 2005 Dropps Frank R. Method and system for congestion control based on optimum bandwidth allocation in a fibre channel switch US20050018649 * Jul 20, 2004 Jan 27, 2005",
    "hasKeyColumn": false,
    "keyColumnIndex": -1,
    "headerRowIndex": 0
}