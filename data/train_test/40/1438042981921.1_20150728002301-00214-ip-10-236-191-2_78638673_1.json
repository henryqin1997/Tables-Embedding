{
    "relation": [
        [
            "Key",
            "query",
            "origin",
            "run_time",
            "store_time",
            "eligible_for_caching",
            "no_table",
            "was_added",
            "was_already_in_cache"
        ],
        [
            "Description",
            "Query string.",
            "Code backtrace.",
            "Query run time in milliseconds. The collection of all times and the necessary gettimeofday system calls can be disabled by setting the PHP configuration directive mysqlnd_qc.time_statistics to 0",
            "Query result set store time in milliseconds. The collection of all times and the necessary gettimeofday system calls can be disabled by setting the PHP configuration directive mysqlnd_qc.time_statistics to 0",
            "TRUE if query is cacheable otherwise FALSE.",
            "TRUE if the query has generated a result set and at least one column from the result set has no table name set in its metadata. This is usually the case with queries which one probably do not want to cache such as SELECT SLEEP(1). By default any such query will not be added to the cache. See also PHP configuration directive mysqlnd_qc.cache_no_table.",
            "TRUE if the query result has been put into the cache, otherwise FALSE.",
            "TRUE if the query result would have been added to the cache if it was not already in the cache (cache hit). Otherwise FALSE."
        ]
    ],
    "pageTitle": "8.7.6\u00a0mysqlnd_qc_get_query_trace_log",
    "title": "",
    "url": "http://docs.oracle.com/cd/E17952_01/apis-php-en/apis-php-function.mysqlnd-qc-get-query-trace-log.html",
    "hasHeader": true,
    "headerPosition": "FIRST_ROW",
    "tableType": "RELATION",
    "tableNum": 1,
    "s3Link": "common-crawl/crawl-data/CC-MAIN-2015-32/segments/1438042981921.1/warc/CC-MAIN-20150728002301-00214-ip-10-236-191-2.ec2.internal.warc.gz",
    "recordEndOffset": 78646875,
    "recordOffset": 78638673,
    "tableOrientation": "HORIZONTAL",
    "TableContextTimeStampBeforeTable": "{9191=Copyright 1997-2014 the PHP Documentation Group.}",
    "lastModified": "Sun, 26 Jul 2015 10:10:01 GMT",
    "textBeforeTable": "An array of query backtrace. Every list entry contains the query string, a backtrace and further detail information. Return Values This function has no parameters. Parameters The maximum depth of the backtrace is limited to the depth set with the PHP configuration directive mysqlnd_qc.query_trace_bt_depth. Returns a backtrace for each query inspected by the query cache. The collection of the backtrace is disabled by default. To collect the backtrace you have to set the PHP configuration directive mysqlnd_qc.collect_query_trace to 1 array\u00a0mysqlnd_qc_get_query_trace_log(); Description mysqlnd_qc_get_query_trace_log Returns a backtrace for each query inspected by the query cache Copyright 1997-2014 the PHP Documentation Group. 8.7.6\u00a0mysqlnd_qc_get_query_trace_log \u00a0Next 8.7\u00a0mysqlnd_qc Functions Previous\u00a0 8.7.6\u00a0mysqlnd_qc_get_query_trace_log",
    "textAfterTable": "Examples Example\u00a08.22\u00a0mysqlnd_qc_get_query_trace_log example  mysqlnd_qc.collect_query_trace=1  <?php /* Connect, create and populate test table */ $mysqli = new mysqli(\"host\", \"user\", \"password\", \"schema\", \"port\", \"socket\"); $mysqli->query(\"DROP TABLE IF EXISTS test\"); $mysqli->query(\"CREATE TABLE test(id INT)\"); $mysqli->query(\"INSERT INTO test(id) VALUES (1), (2)\"); /* not cached */ $res = $mysqli->query(\"SELECT id FROM test WHERE id = 1\"); var_dump($res->fetch_assoc()); $res->free(); /* cache put */ $res = $mysqli->query(\"/*\" . MYSQLND_QC_ENABLE_SWITCH . \"*/\" . \"SELECT id FROM test WHERE id = 2\"); var_dump($res->fetch_assoc()); $res->free(); /* cache hit */ $res = $mysqli->query(\"/*\" . MYSQLND_QC_ENABLE_SWITCH . \"*/\" . \"SELECT id FROM test WHERE id = 2\"); var_dump($res->fetch_assoc()); $res->free(); var_dump(mysqlnd_qc_get_query_trace_log()); ?> The above examples will output:  array(1) { [\"id\"]=> string(1) \"1\" } array(1) { [\"id\"]=> string(1) \"2\" } array(1) { [\"id\"]=> string(1) \"2\" } array(6) { [0]=> array(8) { [\"query\"]=> string(25) \"DROP TABLE IF EXISTS test\" [\"origin\"]=> string(102) \"#0 qc.php(4): mysqli->query('DROP TABLE IF E...') #1 {main}\" [\"run_time\"]=> int(0) [\"store_time\"]=> int(0) [\"eligible_for_caching\"]=> bool(false) [\"no_table\"]=> bool(false) [\"was_added\"]=> bool(false) [\"was_already_in_cache\"]=> bool(false) } [1]=> array(8) { [\"query\"]=> string(25) \"CREATE TABLE test(id INT)\" [\"origin\"]=> string(102) \"#0 qc.php(5): mysqli->query('CREATE TABLE te...') #1 {main}\" [\"run_time\"]=> int(0) [\"store_time\"]=> int(0) [\"eligible_for_caching\"]=> bool(false) [\"no_table\"]=> bool(false) [\"was_added\"]=> bool(false) [\"was_already_in_cache\"]=> bool(false) } [2]=> array(8) { [\"query\"]=> string(36) \"INSERT INTO test(id) VALUES (1), (2)\" [\"origin\"]=> string(102) \"#0 qc.php(6): mysqli->query('INSERT INTO tes...') #1 {main}\" [\"run_time\"]=> int(0) [\"store_time\"]=> int(0) [\"eligible_for_caching\"]=> bool(false) [\"no_table\"]=> bool(false) [\"was_added\"]=> bool(false) [\"was_already_in_cache\"]=> bool(false) } [3]=> array(8) {",
    "hasKeyColumn": false,
    "keyColumnIndex": -1,
    "headerRowIndex": 0
}