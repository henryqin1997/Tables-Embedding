{
    "relation": [
        [
            "Operation",
            "CREATE INDEX, ADD INDEX",
            "ADD FULLTEXT INDEX",
            "ADD SPATIAL INDEX",
            "RENAME INDEX",
            "DROP INDEX",
            "OPTIMIZE TABLE",
            "Set default value for a column",
            "Change auto-increment value for a column",
            "Add a foreign key constraint",
            "Drop a foreign key constraint",
            "Rename a column",
            "Add a column",
            "Drop a column",
            "Reorder columns",
            "Change ROW_FORMAT property",
            "Change KEY_BLOCK_SIZE property",
            "Make column NULL",
            "Make column NOT NULL",
            "Change data type of column",
            "Add primary key",
            "Drop primary key and add another",
            "Drop primary key",
            "Convert character set",
            "Specify character set",
            "Rebuild with FORCE option",
            "Rebuild with \u201cnull\u201d ALTER TABLE ... ENGINE=INNODB",
            "Set table-level persistent statistics options (STATS_PERSISTENT, STATS_AUTO_RECALC STATS_SAMPLE_PAGES)"
        ],
        [
            "In-Place?",
            "Yes*",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes*",
            "Yes",
            "Yes*",
            "Yes*",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes*",
            "No*",
            "Yes*",
            "Yes",
            "No",
            "No",
            "No",
            "Yes",
            "Yes",
            "Yes"
        ],
        [
            "Copies Table?",
            "No*",
            "No*",
            "No",
            "No",
            "No",
            "Yes",
            "No",
            "No",
            "No*",
            "No",
            "No*",
            "Yes*",
            "Yes*",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes*",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "No"
        ],
        [
            "Allows Concurrent DML?",
            "Yes",
            "No",
            "No",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes*",
            "Yes*",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "No",
            "Yes",
            "Yes",
            "No",
            "No",
            "No",
            "Yes",
            "Yes",
            "Yes"
        ],
        [
            "Allows Concurrent Query?",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes",
            "Yes"
        ],
        [
            "Notes",
            "Some restrictions for FULLTEXT index; see next row.",
            "Creating the first FULLTEXT index for a table involves a table copy, unless there is a user-supplied FTS_DOC_ID column. Subsequent FULLTEXT indexes on the same table can be created in-place.",
            "In-place support was added in MySQL 5.7.5. Bulk load is not supported.",
            "Modifies .frm file only, not the data file.",
            "Modifies .frm file only, not the data file.",
            "Uses ALGORITHM=INPLACE as of MySQL 5.7.4. ALGORITHM=COPY is used if old_alter_table=1 or mysqld --skip-new option is enabled. OPTIMIZE TABLE using online DDL (ALGORITHM=INPLACE) is not supported for tables with FULLTEXT indexes.",
            "Modifies .frm file only, not the data file.",
            "Modifies a value stored in memory, not the data file.",
            "To avoid copying the table, disable foreign_key_checks during constraint creation.",
            "The foreign_key_checks option can be enabled or disabled.",
            "To allow concurrent DML, keep the same data type and only change the column name. Prior to MySQL 5.7.8, ALGORITHM=INPLACE is supported for renaming a virtual generated column but not for renaming a stored generated column. As of MySQL 5.7.8, ALGORITHM=INPLACE is not supported for renaming virtual or stored generated columns.",
            "Concurrent DML is not allowed when adding an auto-increment column. Although ALGORITHM=INPLACE is allowed, the data is reorganized substantially, so it is still an expensive operation. ALGORITHM=INPLACE is supported for adding a virtual generated column but not for adding a stored generated column. Adding a virtual generated column does not require a table copy.",
            "Although ALGORITHM=INPLACE is allowed, the data is reorganized substantially, so it is still an expensive operation. ALGORITHM=INPLACE is supported for dropping a generated column. Dropping a virtual generated column does not require a table copy.",
            "Although ALGORITHM=INPLACE is allowed, the data is reorganized substantially, so it is still an expensive operation.",
            "Although ALGORITHM=INPLACE is allowed, the data is reorganized substantially, so it is still an expensive operation.",
            "Although ALGORITHM=INPLACE is allowed, the data is reorganized substantially, so it is still an expensive operation.",
            "Although ALGORITHM=INPLACE is allowed, the data is reorganized substantially, so it is still an expensive operation.",
            "When SQL_MODE includes STRICT_ALL_TABLES or STRICT_TRANS_TABLES, the operation fails if the column contains any nulls. The server prohibits changes to foreign key columns that have the potential to cause loss of referential integrity. For more information, see Section 13.1.6, \u201cALTER TABLE Syntax\u201d. Although ALGORITHM=INPLACE is allowed, the data is reorganized substantially, so it is still an expensive operation.",
            "Exception: VARCHAR size may be increased using online ALTER TABLE. See InnoDB Online DDL Column Properties for more information.",
            "Although ALGORITHM=INPLACE is allowed, the data is reorganized substantially, so it is still an expensive operation. ALGORITHM=INPLACE is not allowed under certain conditions if columns have to be converted to NOT NULL. See Example 14.9, \u201cCreating and Dropping the Primary Key\u201d.",
            "ALGORITHM=INPLACE is only allowed when you add a new primary key in the same ALTER TABLE; the data is reorganized substantially, so it is still an expensive operation.",
            "Restrictions apply when you drop a primary key primary key without adding a new one in the same ALTER TABLE statement.",
            "Rebuilds the table if the new character encoding is different.",
            "Rebuilds the table if the new character encoding is different.",
            "Uses ALGORITHM=INPLACE as of MySQL 5.7.4. ALGORITHM=COPY is used if old_alter_table=1 or mysqld --skip-new option is enabled. Table rebuild using online DDL (ALGORITHM=INPLACE) is not supported for tables with FULLTEXT indexes.",
            "Uses ALGORITHM=INPLACE as of MySQL 5.7.4. ALGORITHM=COPY is used if old_alter_table=1 or mysqld --skip-new option is enabled. Table rebuild using online DDL (ALGORITHM=INPLACE) is not supported for tables with FULLTEXT indexes.",
            "Modifies .frm file only, not the data file."
        ]
    ],
    "pageTitle": "MySQL :: MySQL 5.7 Reference Manual :: 14.10.1 Overview of Online DDL",
    "title": "",
    "url": "https://dev.mysql.com/doc/refman/5.7/en/innodb-create-index-overview.html",
    "hasHeader": true,
    "headerPosition": "FIRST_ROW",
    "tableType": "RELATION",
    "tableNum": 0,
    "s3Link": "common-crawl/crawl-data/CC-MAIN-2015-32/segments/1438042988317.67/warc/CC-MAIN-20150728002308-00065-ip-10-236-191-2.ec2.internal.warc.gz",
    "recordEndOffset": 872602991,
    "recordOffset": 872588776,
    "tableOrientation": "HORIZONTAL",
    "textBeforeTable": "Table\u00a014.8\u00a0Summary of Online Status for DDL Operations The \u201cNotes\u201d column explains any exceptions to the \u201cYes/No\u201d values of the other columns, such as when the answer depends on the setting of a configuration option or some other clause in the DDL statement. The values \u201cYes*\u201d and \u201cNo*\u201d indicate that an answer depends on these additional notes. The \u201cAllows Concurrent Queries?\u201d column shows which DDL operations allow queries on the table while the operation is in progress; the preferred value is \u201cYes\u201d. Concurrent query is allowed during all online DDL operations. It is shown with \u201cYes\u201d listed for all cells, for reference purposes. You can specify LOCK=SHARED to assert that concurrent queries are allowed during the DDL, but MySQL automatically allows this level of concurrency when possible. The \u201cAllows Concurrent DML?\u201d column shows which operations can be performed fully online; the preferred value is \u201cYes\u201d. You can specify LOCK=NONE to assert that full concurrency is allowed during the DDL, but MySQL automatically allows this level of concurrency when possible. When concurrent DML is allowed, concurrent queries are also always allowed. The \u201cCopies Table?\u201d column shows which operations are able to avoid the expensive table-copying operation; the preferred value is \u201cNo\u201d. This column is mostly the reverse of",
    "textAfterTable": "The following sections shows the basic syntax, and usage notes related to online DDL, for each of the major operations that can be performed with concurrent DML, in-place, or both: Secondary Indexes Create secondary indexes: CREATE INDEX name ON table (col_list) or ALTER TABLE table ADD INDEX name (col_list). (Creating a a FULLTEXT index still requires locking the table.) Drop secondary indexes: DROP INDEX name ON table; or ALTER TABLE table DROP INDEX name Creating and dropping secondary indexes on InnoDB tables skips the table-copying behavior, the same as in MySQL 5.5 and MySQL 5.1 with the InnoDB Plugin. In MySQL 5.6 and higher, the table remains available for read and write operations while the index is being created or dropped. The CREATE INDEX or DROP INDEX statement only finishes after all transactions that are accessing the table are completed, so that the initial state of the index reflects the most recent contents of the table. Previously, modifying the table while an index is being created or dropped typically resulted in a deadlock that cancelled the INSERT,",
    "hasKeyColumn": true,
    "keyColumnIndex": 0,
    "headerRowIndex": 0
}